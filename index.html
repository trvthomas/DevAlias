<!DOCTYPE html>
<html data-theme="dark">

<head>
    <title>DevAlias for CS Club</title>

    <meta name="description"
        content="Discover your unique coder identity with DevAlias! Generate fun and personalized code names based on your favorite programming language and skill level.">
    <link rel="stylesheet" href="include/bulma-styling.css">
    <link rel="stylesheet" href="include/styling.css">

    <link rel="icon" href="assets/favicon.ico" type="image/x-icon">

    <link href="https://trvsolutions-customer-resources.s3.amazonaws.com/fontawesome-icons/css/fontawesome.min.css"
        rel="stylesheet">
    <link href="https://trvsolutions-customer-resources.s3.amazonaws.com/fontawesome-icons/css/brands.min.css"
        rel="stylesheet">
    <link href="https://trvsolutions-customer-resources.s3.amazonaws.com/fontawesome-icons/css/regular.min.css"
        rel="stylesheet">
    <link href="https://trvsolutions-customer-resources.s3.amazonaws.com/fontawesome-icons/css/solid.min.css"
        rel="stylesheet">
    <link href="https://trvsolutions-customer-resources.s3.amazonaws.com/fontawesome-icons/css/v5-font-face.min.css"
        rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
</head>

<body onload="createStars()">
    <section class="hero is-black is-fullheight is-relative">
        <div class="heroImage">
            <img src="assets/background.png" alt="">
        </div>
        <div class="heroOverlay"></div>
        <div class="starsContainer" id="starsContainer"></div>

        <div class="container has-text-centered">
            <div id="containerStart">
                <figure class="image is-1by1 mx-auto is-clickable elementHover" style="width: 30%"
                    onclick="startGame()">
                    <img src="assets/logo.png" alt="Logo CSM Computer Science Club, click here to start!">
                </figure>
                <p class="animate__animated animate__pulse animate__slow animate__infinite">Press the logo to start!</p>
            </div>

            <div class="is-hidden" id="containerQuestion1">
                <h2 class="title">What's your favorite programming language?</h2>
                <div class="columns is-multiline">
                    <div class="column is-one-third is-clickable" onclick="selectFaveLanguage('html')">
                        <div class="box is-shadowless optionsBox is-relative pb-4 elementHover">
                            <figure class="image is-64x64 cardFloatingIconImg">
                                <div class="categoryColorImage"><span><i class="fa-brands fa-fw fa-html5"></i></span>
                                </div>
                            </figure>
                            <h5 class="title is-4">HTML</h5>
                        </div>
                    </div>

                    <div class="column is-one-third is-clickable" onclick="selectFaveLanguage('python')">
                        <div class="box is-shadowless optionsBox inverted is-relative pb-4 elementHover">
                            <figure class="image is-64x64 cardFloatingIconImg">
                                <div class="categoryColorImage"><span><i class="fa-brands fa-fw fa-python"></i></span>
                                </div>
                            </figure>
                            <h5 class="title is-4">Python</h5>
                        </div>
                    </div>

                    <div class="column is-one-third is-clickable" onclick="selectFaveLanguage('js')">
                        <div class="box is-shadowless optionsBox is-relative pb-4 elementHover">
                            <figure class="image is-64x64 cardFloatingIconImg">
                                <div class="categoryColorImage"><span><i class="fa-brands fa-fw fa-js"></i></span></div>
                            </figure>
                            <h5 class="title is-4">JavaScript</h5>
                        </div>
                    </div>

                    <div class="column is-one-third is-clickable" onclick="selectFaveLanguage('java')">
                        <div class="box is-shadowless optionsBox inverted is-relative pb-4 elementHover">
                            <figure class="image is-64x64 cardFloatingIconImg">
                                <div class="categoryColorImage"><span><i class="fa-brands fa-fw fa-java"></i></span>
                                </div>
                            </figure>
                            <h5 class="title is-4">Java</h5>
                        </div>
                    </div>

                    <div class="column is-one-third is-clickable" onclick="selectFaveLanguage('other')">
                        <div class="box is-shadowless optionsBox is-relative pb-4 elementHover">
                            <figure class="image is-64x64 cardFloatingIconImg">
                                <div class="categoryColorImage"><span><i class="fa-solid fa-fw fa-code"></i></span>
                                </div>
                            </figure>
                            <h5 class="title is-4">Other</h5>
                        </div>
                    </div>

                    <div class="column is-one-third is-clickable" onclick="selectFaveLanguage('none')">
                        <div class="box is-shadowless optionsBox special is-relative pb-4 elementHover">
                            <figure class="image is-64x64 cardFloatingIconImg">
                                <div class="categoryColorImage"><span><i class="fa-solid fa-fw fa-rocket"></i></span>
                                </div>
                            </figure>
                            <h5 class="title is-4">None</h5>
                        </div>
                    </div>
                </div>
            </div>

            <div class="is-hidden" id="containerQuestion2">
                <h2 class="title">What's your skill level?</h2>
                <div class="columns is-multiline">
                    <div class="column is-one-third is-clickable" onclick="selectSkillLevel('beginner')">
                        <div class="box is-shadowless optionsBox special is-relative pb-4 elementHover">
                            <figure class="image is-64x64 cardFloatingIconImg">
                                <div class="categoryColorImage"><span><i
                                            class="fa-solid fa-fw fa-user-graduate"></i></span>
                                </div>
                            </figure>
                            <h5 class="title is-4">Beginner</h5>
                        </div>
                    </div>

                    <div class="column is-one-third is-clickable" onclick="selectSkillLevel('intermediate')">
                        <div class="box is-shadowless optionsBox inverted is-relative pb-4 elementHover">
                            <figure class="image is-64x64 cardFloatingIconImg">
                                <div class="categoryColorImage"><span><i
                                            class="fa-solid fa-fw fa-user-ninja"></i></span>
                                </div>
                            </figure>
                            <h5 class="title is-4">Intermediate</h5>
                        </div>
                    </div>

                    <div class="column is-one-third is-clickable" onclick="selectSkillLevel('advanced')">
                        <div class="box is-shadowless optionsBox is-relative pb-4 elementHover">
                            <figure class="image is-64x64 cardFloatingIconImg">
                                <div class="categoryColorImage"><span><i
                                            class="fa-solid fa-fw fa-user-astronaut"></i></span></div>
                            </figure>
                            <h5 class="title is-4">Advanced</h5>
                        </div>
                    </div>
                </div>
            </div>

            <div class="is-hidden" id="containerQuestion3">
                <h2 class="title">Let's personalize your experience! Tell us your name</h2>

                <div class="field has-addons mb-0">
                    <div class="control has-icons-left is-expanded">
                        <input class="input is-large" type="text" placeholder="e.g. Jhon, Jane" maxlength="30"
                            id="inputName" onkeyup="onup()">
                        <span class="icon is-left"><i class="fa-solid fa-signature"></i></span>
                    </div>
                    <div class="control">
                        <button class="button is-large is-primary is-light" onclick="generateDevAlias()">Generate <i
                                class="fa-solid fa-fw fa-chevron-right"></i></button>
                    </div>
                </div>
                <p class="is-size-7 has-text-left">Optional, click <b>Generate</b> to continue without name</p>
            </div>

            <div class="is-hidden" id="containerLoader">
                <figure class="image is-1by1 mx-auto" style="width: 30%">
                    <img class="animate__animated animate__flash animate__slower animate__infinite"
                        src="assets/logo.png" alt="Logo CSM Computer Science Club">
                </figure>
                <p>Generating your DevAlias...</p>
            </div>

            <div class="is-hidden" id="containerResults">
                <div class="columns">
                    <div class="column is-relative" style="border-right: 2px solid var(--bulma-primary)">
                        <img class="floatingImage animate__animated animate__fadeIn animate__delay-1s"
                            src="assets/frame.png" alt="">

                        <div class="centeredResults">
                            <h3 class="subtitle is-4 animate__animated animate__fadeInDown animate__delay-2s"
                                id="resultsUserName"></h3>
                            <h2 class="title is-1 animate__animated animate__zoomInDown animate__delay-4s"
                                style="font-family: 'Archivo Black', sans-serif;" id="resultsDevAlias">
                            </h2>
                        </div>
                    </div>

                    <div class="column is-one-third">
                        <div class="animate__animated animate__fadeIn" style="animation-delay: 6s;">
                            <div class="p-3" style="background-color: rgba(204, 82, 0, 0.4); border-radius: .75rem;">
                                <h4 class="subtitle mb-1" id="resultsInvitingMessage"></h4>

                                <figure class="image is-1by1 mx-auto" style="width: 60%;">
                                    <img src="assets/discord-qr.png" alt="CSM Computer Science Club Discord QR Code"
                                        style="border-radius: 1rem;">
                                </figure>

                                <a class="button is-primary is-light is-fullwidth mt-2" href="/DevAlias"><i class="fa-solid fa-arrows-rotate"></i> Start over</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </section>

    <script type="text/javascript" src="include/names.js"></script>
    <script>
        const answers = { favoriteLanguage: "", skillLevel: "", userName: "" };

        function createStars() {
            for (var x = 0; x <= 150; x++) {
                const xPosition = Math.floor(Math.random() * 101);
                const yPosition = Math.floor(Math.random() * 101);
                const starType = Math.floor(Math.random() * 3) + 1;

                const createStar = document.createElement("DIV");
                var attributeStar = document.createAttribute("class");
                attributeStar.value = "star" + starType;
                var attributeStar2 = document.createAttribute("style");
                attributeStar2.value = "top: " + yPosition + "vh; left: " + xPosition + "vw;";
                var appendLoader = document.getElementById('starsContainer').appendChild(createStar);
                appendLoader.setAttributeNode(attributeStar); appendLoader.setAttributeNode(attributeStar2);
            }
        }

        function onup() {
            if (event.keyCode === 13) {
                generateDevAlias();
            }
        }

        function startGame() {
            document.getElementById('containerStart').classList.add("animate__animated", "animate__fadeOutLeft");
            setTimeout(function () {
                document.getElementById('containerStart').classList.add("is-hidden");
                document.getElementById('containerQuestion1').classList.remove("is-hidden");
                document.getElementById('containerQuestion1').classList.add("animate__animated", "animate__fadeInRight");
            }, 500);
        }

        function selectFaveLanguage(selectedLang) {
            answers.favoriteLanguage = selectedLang;

            document.getElementById('containerQuestion1').classList.add("animate__animated", "animate__fadeOutLeft");
            setTimeout(function () {
                document.getElementById('containerQuestion1').classList.add("is-hidden");
                var skipToQuestion = 2;
                if (selectedLang == "none") {
                    skipToQuestion = 3;
                    answers.skillLevel = "beginner";
                }
                document.getElementById('containerQuestion' + skipToQuestion).classList.remove("is-hidden");
                document.getElementById('containerQuestion' + skipToQuestion).classList.add("animate__animated", "animate__fadeInRight");
            }, 500);
        }

        function selectSkillLevel(selectedSkill) {
            answers.skillLevel = selectedSkill;

            document.getElementById('containerQuestion2').classList.add("animate__animated", "animate__fadeOutLeft");
            setTimeout(function () {
                document.getElementById('containerQuestion2').classList.add("is-hidden");
                document.getElementById('containerQuestion3').classList.remove("is-hidden");
                document.getElementById('containerQuestion3').classList.add("animate__animated", "animate__fadeInRight");
            }, 500);
        }

        function generateDevAlias() {
            const name = document.getElementById('inputName').value;
            answers.userName = name.charAt(0).toUpperCase() + name.slice(1);

            document.getElementById('containerQuestion3').classList.add("animate__animated", "animate__fadeOutLeft");
            setTimeout(function () {
                document.getElementById('containerQuestion3').classList.add("is-hidden");
                document.getElementById('containerLoader').classList.remove("is-hidden");
                document.getElementById('containerLoader').classList.add("animate__animated", "animate__fadeInRight");
                displayResults();
            }, 500);
        }

        function displayResults() {
            if (answers.userName != "") {
                document.getElementById('resultsUserName').innerHTML = answers.userName + ", the";
            } else {
                document.getElementById('resultsUserName').innerHTML = "Your DevAlias is:";
            }
            document.getElementById('resultsDevAlias').innerHTML = getGeneratedName();
            document.getElementById('resultsInvitingMessage').innerHTML = getInvitingMessage();

            setTimeout(function () {
                document.getElementById('containerLoader').classList.add("animate__animated", "animate__fadeOutLeft");

                setTimeout(function () {
                    document.getElementById('containerLoader').classList.add("is-hidden");
                    document.getElementById('containerResults').classList.remove("is-hidden");
                    document.getElementById('containerResults').classList.add("animate__animated", "animate__fadeInRight");
                    setTimeout(function () {
                        document.getElementById('resultsDevAlias').classList.remove("animate__zoomInDown", "animate__delay-4s");
                        document.getElementById('resultsDevAlias').classList.add("animate__pulse", "animate__infinite", "animate__slow");
                    }, 8000);
                }, 500);
            }, ((1 + Math.floor(Math.random() * 4)) * 1000));
        }

        function getGeneratedName() {
            const randomFavLanguage = Math.floor(Math.random() * faveLanguageNouns[answers.favoriteLanguage].length);
            const randomSkillLevel = Math.floor(Math.random() * skillLevelAdjectives[answers.skillLevel].length);

            return "<span>" + skillLevelAdjectives[answers.skillLevel][randomSkillLevel] + "</span> <span>" + faveLanguageNouns[answers.favoriteLanguage][randomFavLanguage] + "</span>";
        }

        function getInvitingMessage() {
            const randomMessage = Math.floor(Math.random() * invitingMessages[answers.skillLevel].length);
            const messageRetrieved = invitingMessages[answers.skillLevel][randomMessage];
            var finalMessage = messageRetrieved.replace(/{{language}}/g, answers.favoriteLanguage);
            finalMessage = finalMessage.replace(/Discord/g, "<span style=\"color: #5865F2\">Discord</span>");
            finalMessage = finalMessage.replace(/our club/g, "<span style=\"color: #9cb3c9\">our club</span>");

            return finalMessage;
        }
    </script>
</body>

</html>